extends layout

block content
  .container
    .header-container.mt-2
      h1 Previous History
    .table-container.mt-2
      table.table.table-striped.table-bordered
        thead
          tr
            th Date
            th Activity
            th Amount
            th Carbon Emission
        tbody
          each item in history
            tr
              td= item.date.toISOString().split('T')[0]  
              td= item.activity
              td
                = item.amount
                if item.activity === 'Driving'
                  span= ' km'  
                else if item.activity === 'ElectricityUsage'
                  span= ' kWh'  
                else if item.activity === 'WasteDisposal'
                  span= ' kg'  
              td= item.carbonEmission.toFixed(2) + ' kg CO2'  
        tfoot
          tr
            td.totalRow(colspan= "3") Total Carbon Emission:
            td= history.reduce((total, item) => total + item.carbonEmission, 0).toFixed(2) + ' kg CO2'